## constructor

`constructor` 返回创建实例对象的构造函数的引用。此属性的值是对函数本身的引用，而不是一个包含函数名称的字符串。

```javascript
[].constructor === Array
(new Array).constructor === Array

{}.constructor === Object
(new Object).constructor === Array

(new Boolean).constructor === Boolean
(new Date).constructor === Date
(new Error).constructor === Error
(new Function).constructor === Function
(new Number).constructor === Number
(new Object).constructor === Object
(new String).constructor === String
```

`Symbol` 等标准内置对象都不是 `constructor`，其属性和方法都是静态的。https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Errors/Not_a_constructor

### new

```javascript
class Person {
    constructor(name) {
        this.name = name;
    }

    getName() {
        return this.name;
    }
}

//
const person = new Person();

// mock new
function create() {
    const obj = new Object(),
        Con = [].shift.call(arguments);
    Object.setPrototypeOf(obj, Con.prototype);
    const ret = Con.apply(obj, arguments);
    return ret instanceof Object ? ret : obj;
}

const personByCreate = create(Person, 'unofficial'); // Class constructor Person cannot be invoked without 'new'

function Person(name) {
    this.name = name;
    this.getName = function() {
        return this.name;
    };
}
```

## property

Javascript 是一种基于原型的语言，每个对象拥有一个原型对象，对象以其原型为模板，从原型继承方法和属性，这些方法和属性定义在对象的构造器函数的 prototype 属性上，而非对象实例本身。

```javascript
// ES5
function Person() {
    this.ownProp = '自有属性';
    this.ownPropFunction = function() {
        console.log('自有方法');
    };
}
Person.prop = '静态属性';
Person.propFunction = function() {
    console.log('静态方法');
};
Person.prototype.protoProp = '原型属性';
Person.prototype.protoPropFunc = function() {
    console.log('原型方法');
};

// ES6
class Person {
    static prop = '静态属性';
    static propFunction = () => {
        console.log('静态方法');
    };

    ownProp = '自有属性';

    constructor() {
        this.ownProp = '自有属性'; // replace
    }
}

var person = new Person();
console.log(person);
```

### hasOwnProperty

```javascript
person.hasOwnProperty('ownProp'); // true
```

### isPrototypeOf

```javascript
Person.prototype.isPrototypeOf(person); // true
Object.prototype.isPrototypeOf(person); // true
```

`Function.prototype` 属性存储了 `Function` 的原型对象。

```javascript
Function.prototype.isPrototypeOf(new Function()); // true
Object.prototype.isPrototypeOf(new Function()); // true
```

## 图解

![](https://www.processon.com/view/link/5d380b8de4b0d11c890ededb)
