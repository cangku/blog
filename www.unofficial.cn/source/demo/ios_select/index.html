layout: false
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>Document</title>
    <style>
        body {
            margin: 0;
        }
        ul {
            margin: 0;
            padding: 0;
            list-style-type: none;
        }

        /* select */
        .select-checked-value, .select-checked-text {
            position: absolute;
        }

        .select {
            position: relative;
            display: block;
            border: 1px solid #eee;
            width: 80px;
            height: 26px;
            line-height: 26px;
            -webkit-user-select: none;
        }
        .select:after {
            position: absolute;
            top: 50%;
            right: 1%;
            margin: -8px 8px 0 0;
            display: block;
            content: ' ';
            width: 10px;
            height: 10px;
            border-top: 1px solid #333;
            border-left: 1px solid #333;
            transform: rotate(-135deg);
        }
        .button {
            display: block;
            padding: 5px 10px;
            background-color: #fff;
            border: 1px solid #ccc;
            font-size: 12px;
            cursor: pointer;
        }
        .button-blue {
        	border: 1px solid #007aff;
            background-color: #007aff;
            color: #fff;
        }
        .select-checked {
            background-color: #eee;
        }
        .select-checked-text {
            width: 100%;
            padding-left: 5px;
        }
        .select-option {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #eee;
            border-top: solid 1px #ccc;
        }
        .select-option {
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #eee;
            border-top: solid 1px #ccc;
        }

        .select-option-header {
            display: flex;
            justify-content: space-between;
            padding: 6px;
        }
        .select-option-body {
            background-color: #ddd;
            line-height: 30px;
            cursor: context-menu;
        }
        .select-option-body li {
            padding: 6px;
        }
    </style>
</head>
<body>
    <select name="x">
        <option value="1">第一项</option>
        <option value="2">第二项</option>
        <option value="3">第三项</option>
    </select>
    <!--<div class="select" id="x">
        </!--<div class="select-checked-value">1</div>--/>
        <span class="select-checked-text">第一项</span>
        <div class="select-option">
            <header class="select-option-header">
                <span class="button">取消</span>
                <span class="button button-blue">确定</span>
            </header>
            
            <ul class="select-option-body">
                <li class="option" data-value="1">第一项</li>
                <li class="option select-checked" data-value="2">第二项</li>
                <li class="option" data-value="3">第三项</li>
            </ul>
        </div>
    </div>-->
    
    <select name="y">
        <option value="1">第一项</option>
        <option value="2">第二项</option>
        <option value="3">第三项</option>
    </select>
    <script>
        (function() {
            // 根据select的name值作为id值初始化自定义select
            function Select() {
                this.body = document.querySelector('body');
                this.selects = document.querySelectorAll('select');
                // 自定义select的class名
                this.selectClassName = 'select';
                // 初始化自定义select元素
                this.init();
            }

            Select.prototype.init = function() {
                var selects = this.selects;
                var len = this.selects.length;
                for(var i = 0; i < len; i++) {
                    // 创建自定义select
                    this.createSelect(selects[i]);
                    // 隐藏源select
                    selects[i].style.display = 'none';
                }
            }

            // 根据name创建select
            Select.prototype.createSelect = function() {
                var selectEle = [].slice.call(arguments)[0];
                
                var name = selectEle.name;
                var firstOptionValue = selectEle[0].value;
                var firstOptionText = selectEle[0].text;
                
                var len = selectEle.length;
                var optionsHtml = '';
                for(var i = 0; i < len; i++) {
                    optionsHtml += '<li class="option" data-value="'+selectEle[i].value+'">'+selectEle[i].text+'</li>';
                }
                
                var div = document.createElement('div');
                div.className = this.selectClassName;
                div.id = name;
                div.innerHTML = 
                    '<!--<div class="select-checked-value">'+firstOptionValue+'</div>-->'+
                    '<span class="select-checked-text">'+firstOptionText+'</span>'+
                    '<div class="select-option">'+
                        '<header class="select-option-header">'+
                            '<span class="button">取消</span>'+
                            '<span class="button button-blue">确定</span>'+
                        '</header>'+
                        
                        '<ul class="select-option-body">'+
                            optionsHtml
                        '</ul>'+
                    '</div>'
                ;
                this.body.appendChild(div);
            } 

            return new Select();

        })()
    </script>
    <div class="masklayer"></div>
</body>
</html>