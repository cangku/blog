---
title: 如何实现一个时间选择器
date: 2016-08-16 11:00:09
category:
- 学习
tags:
- js
---
提到** 选择器 **的时候，脑海中最先浮现的是 ** select ** 表单控件，它可以简单的下拉选择。以及html5中新增的 ** input ** 类型，这都是一系列自带的表单选择控件。  
<!-- more -->
### 强势围观原生选择控件
> select的属性 autofocus / disabled / from / multiple / name / size

<select name="test" autofocus>
    <option disabled selected>下拉单选</option>
    <option value="1">第1项</option>
    <option value="2">第2项</option>
    <option value="3">第3项</option>
</select>
<select name="test1" multiple size="3">
    <option disabled>被禁用的下拉单选</option>
    <option value="1">第1项</option>
    <option value="2">第2项</option>
    <option value="3">第3项</option>
</select>

> input的类型 text / radio / checkbox / button / submit / reset / file / hidden / image / 新增的类型

* 颜色  
<input type="color" />
* 邮箱  
<input type="email" />
* 电话  
<input type="tel" />
* url  
<input type="url" />
* 随机数  
<input type="range" min="1" max="100" step="1" value="1" />
* 浮点数  
<input type="number" />  
* 搜索  
<input type="search" />  
* 时间或日期  
<input type="date" />  
<input type="time" />  
<input type="datetime" />  
<input type="datetime-local" />  
<input type="month" />  
<input type="week" />  

html5中已经增加了很多控件，但就显示效果来看，兼容性还是问题，控件皮肤也不能自定义。于是还是需要再自己实现一些相应的控件来满足日常需求。  

### 模仿 IOS select组件
#### 自定义select
* div模拟最基本样式的select  
    ``` html
        <div class="select" id="y">
            <!--<div class="select-selected-value">1</div>-->
            <!--<input type="text" class="select-selected-value" value="1">-->
            <span class="select-selected-text">张三</span>
            <div class="select-option" style="display: none;">
                <header class="select-option-header">
                    <span class="cancel button">取消</span>
                    <span class="confirm button button-blue">确定</span>
                </header>
                <ul class="select-option-body">
                    <li class="option checking" data-value="1">张三</li>
                    <li class="option" data-value="2">李四</li>
                    <li class="option" data-value="3">王五</li>
                </ul>
            </div>
        </div>
    ```
    获取源 **select** 的name作为自定义的id，默认值为select-selected-text 或者 select-selected-value，选项为li，选中的想特殊样式checking。

* 按照源样式的属性生成新的div结构select  
    每一个select作为一个对象，选择需要自定义的select创建元素

* js隐藏源select  
    css隐藏掉select本身的html结构  

* js操作新的select实现选择效果
    元素创建好以后给select注册事件，每次展开select的时候检测是不是当前默认值在选项中背景高亮，取消select选中的选择，确认选中的选择，均关闭select展开  

